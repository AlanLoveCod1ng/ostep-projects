('starting', 'build')

**********************************************************************

Test build
build project using make

**********************************************************************
Trying to build project using make
make
gcc -fPIC -g -c -Wall libmfs.c
gcc -shared -Wl,-soname,libmfs.so -o libmfs.so libmfs.o udp.c -lc
gcc -Wall  -g -c client.c
gcc client.o  -g -o client udp.c -L. -lmfs
gcc -Wall  -g -c server.c
gcc server.o  -g -o server udp.c -L. -lmfs
gcc -Wall -Werror -g -c clientmfs.c
gcc clientmfs.o  -g -o clientmfs udp.c -L. -lmfs
gcc -Wall -g -o mkfs mkfs.c
./mkfs -f test.img -d 32 -i 128
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
export LD_LIBRARY_PATH=.


test build PASSED
 (build project using make)

('starting', 'shutdown')

**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6538
/tmp/tmp9dtQ7D/p/server 6538 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test shutdown PASSED
 (init server and client then call shutdown)

('starting', 'creat')

**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7093
/tmp/tmp9dtQ7D/p/server 7093 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test creat PASSED
 (creat a file and check with lookup)

('starting', 'write')

**********************************************************************

Test write
write then read one block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5108
/tmp/tmp9dtQ7D/p/server 5108 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 1
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]
('START BLOCK 1\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00END BLOCK 1')
('START BLOCK 1\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00END BLOCK 1')


test write PASSED
 (write then read one block)

('starting', 'stat')

**********************************************************************

Test stat
stat a regular file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6458
/tmp/tmp9dtQ7D/p/server 6458 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(3)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(3)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 1
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(3)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test stat PASSED
 (stat a regular file)

('starting', 'overwrite')

**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5850
/tmp/tmp9dtQ7D/p/server 5850 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 1
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 2
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test overwrite PASSED
 (overwrite a block)

('starting', 'maxfile')

**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8171
/tmp/tmp9dtQ7D/p/server 8171 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 0
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 1
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 2
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 3
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 4
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 5
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 6
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 7
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 8
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 9
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 10
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 11
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 12
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 13
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 14
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 15
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 16
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 17
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 18
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 19
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 20
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 21
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 22
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 23
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 24
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 25
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 26
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 27
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 28
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 29
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test maxfile PASSED
 (write largest possible file)

('starting', 'maxfile2')

**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9319
/tmp/tmp9dtQ7D/p/server 9319 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 0
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 1
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 2
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 3
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 4
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 5
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 6
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 7
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 8
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 9
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 10
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 11
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 12
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 13
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 14
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 15
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 16
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 17
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 18
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 19
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 20
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 21
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 22
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 23
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 24
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 25
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 26
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 27
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 28
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 29
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 30
Here2
Here3
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]
31
write more than need


test maxfile2 PASSED
 (write more blocks than possible)

('starting', 'dir1')

**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5375
/tmp/tmp9dtQ7D/p/server 5375 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test dir1 PASSED
 (check root for dot entries)

('starting', 'dir2')

**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9812
/tmp/tmp9dtQ7D/p/server 9812 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
.
Here2
Here3
1Here1
testdir
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test dir2 PASSED
 (create a new directory and check it)

('starting', 'baddir')

**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9444
/tmp/tmp9dtQ7D/p/server 9444 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
testdir
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test baddir PASSED
 (try to create a file with a file parent inode)

('starting', 'baddir2')

**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5966
/tmp/tmp9dtQ7D/p/server 5966 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
testdir
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test baddir2 PASSED
 (try to lookup a file with a file parent inode)

('starting', 'unlink')

**********************************************************************

Test unlink
unlink a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5001
/tmp/tmp9dtQ7D/p/server 5001 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(7)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test unlink PASSED
 (unlink a file)

('starting', 'unlink2')

**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6026
/tmp/tmp9dtQ7D/p/server 6026 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
.
Here2
Here3
1Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(7)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test unlink2 PASSED
 (unlink a directory)

('starting', 'empty')

**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7646
/tmp/tmp9dtQ7D/p/server 7646 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
.
Here2
Here3
1Here1
testdir
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
testfile
Here2
Here3
2server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(7)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(7)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(7)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test empty PASSED
 (unlink a non-empty directory)

('starting', 'name')

**********************************************************************

Test name
name too long

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5994
/tmp/tmp9dtQ7D/p/server 5994 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test name PASSED
 (name too long)

('starting', 'persist')

**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9526
/tmp/tmp9dtQ7D/p/server 9526 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
test
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(4)]
Here4
Here1
START BLOCK 1
Here2
Here3
0server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(5)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test persist FAILED
 (restart server after creating a file)
 Timelimit (30.0s) exceeded

('starting', 'bigdir')

**********************************************************************

Test bigdir
create a directory with 126 files

**********************************************************************
client:: failed to read
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9730
/tmp/tmp9dtQ7D/p/server 9730 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
Failure: MFS_Creat returned failure inum=1 type=1 name='30'


test bigdir FAILED
 (create a directory with 126 files)
 MFS_Creat returned failure inum=1 type=1 name='30'

('starting', 'deep')

**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8753
/tmp/tmp9dtQ7D/p/server 8753 /home/bingxu/private/cs537/ostep-projects/filesystems-distributed-ufs/test.img
server:: waiting...
server:: read message [size:4156 contents:(1)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
.
Here2
Here3
1Here1
testdir
Here2
Here3
1server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
.
Here2
Here3
2Here1
0
Here2
Here3
2server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
.
Here2
Here3
3Here1
1
Here2
Here3
3server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
.
Here2
Here3
4Here1
2
Here2
Here3
4server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(6)]
Here1
.
Here2
Here3
5Here1
3
Here2
Here3
5server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(2)]
server:: reply
server:: waiting...
server:: read message [size:4156 contents:(8)]


test deep PASSED
 (create many deeply nested directories)

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write PASSED
 (write then read one block)

test stat PASSED
 (stat a regular file)

test overwrite PASSED
 (overwrite a block)

test maxfile PASSED
 (write largest possible file)

test maxfile2 PASSED
 (write more blocks than possible)

test dir1 PASSED
 (check root for dot entries)

test dir2 PASSED
 (create a new directory and check it)

test baddir PASSED
 (try to create a file with a file parent inode)

test baddir2 PASSED
 (try to lookup a file with a file parent inode)

test unlink PASSED
 (unlink a file)

test unlink2 PASSED
 (unlink a directory)

test empty PASSED
 (unlink a non-empty directory)

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 Timelimit (30.0s) exceeded

test bigdir FAILED
 (create a directory with 126 files)
 MFS_Creat returned failure inum=1 type=1 name='30'

test deep PASSED
 (create many deeply nested directories)

Passed 17 of 19 tests.
Overall 17 of 19
